import{_ as g,h,r as u,o,c as a,b as s,a as _,w as m,t as d,F as y,f as k,d as c,g as z,p as b,m as C,n as w}from"./index-730b9b5a.js";const S={data(){return{showCart:!1,cart:[],imgurl:"https://elenora.hu:444/getimage/",orderid:this.$route.query.order,loading:!1,order:[]}},created(){this.cart=JSON.parse(localStorage.getItem("cart")||"[]")},mounted(){h.get("https://elenora.hu:444/orders/getbyid/"+this.orderid).then(t=>this.order=t.data)},computed:{total(){return this.cart.reduce((t,e)=>t+e.price*e.quantity,0)}},methods:{next(){this.loading=!0,h.post("https://elenora.hu:444/orders/finish/"+this.orderid,JSON.stringify(this.user),{headers:{"Content-Type":"application/json"}}).then(t=>this.$router.push({path:"/"})).catch(t=>{console.error("There was an error!",t)})},backto(t){console.log("clicked"),t=="shipping"?this.$router.push({path:"/shop/checkout/shipping",query:{order:this.orderid}}):t=="customer"?this.$router.push({path:"/shop/checkout",query:{order:this.orderid}}):t=="paying"?this.$router.push({path:"/shop/checkout/shipping",query:{order:this.orderid}}):console.log("err")},ordercash(){this.loading=!0,h.get("https://elenora.hu:444/orders/getbyid/"+this.orderid).then(t=>this.$router.push({path:"/shop/thanks",query:{id:this.orderid}}))},orderpay(){this.loading=!0,h.post("https://elenora.hu:444/orders/pay",JSON.stringify({items:this.cart,orderid:this.orderid}),{headers:{"Content-Type":"application/json"}}).then(t=>{window.open(t.data.url,"_self")})}}},r=t=>(b("data-v-ffa99f89"),t=t(),C(),t),F={class:"datas_w"},x={class:"logo_w"},q=r(()=>s("img",{class:"logo",src:w,alt:"ELENORA"},null,-1)),N={class:"cart_w"},M={class:"text"},I=r(()=>s("p",null,"Tekintsd meg a kosarad tartalmát",-1)),O={class:"price"},T={key:0,class:"cart"},L={class:"list"},V={class:"cart_item_imgtext"},$={class:"cart_item_img"},B=["src"],E={class:"cart_item_desc"},J={class:"quantity"},R={class:"cart_item_del"},j={class:"prices"},A=r(()=>s("p",null,"Összeg",-1)),H=z('<div class="order_status" data-v-ffa99f89><div class="sec" data-v-ffa99f89><div class="circle" data-v-ffa99f89><p data-v-ffa99f89>1</p></div><div class="title" data-v-ffa99f89><p data-v-ffa99f89>Adatok</p></div></div><div class="hr" data-v-ffa99f89></div><div class="sec" data-v-ffa99f89><div class="circle" data-v-ffa99f89><p data-v-ffa99f89>2</p></div><div class="title" data-v-ffa99f89><p data-v-ffa99f89>Szállítás - Fizetés</p></div></div><div class="hr" data-v-ffa99f89></div><div class="sec" data-v-ffa99f89><div class="circle active" data-v-ffa99f89><p class="active" data-v-ffa99f89>3</p></div><div class="title" data-v-ffa99f89><p data-v-ffa99f89>Összegzés</p></div></div></div>',1),D={class:"osszesites_w"},K={class:"oszesites_b"},U={class:"left"},G=r(()=>s("p",{class:"t"},"Kapcsolattartás",-1)),P={class:"c"},Q={class:"right"},W={class:"oszesites_b"},X={class:"left"},Y=r(()=>s("p",{class:"t"},"Szállítási cím",-1)),Z={class:"c"},ss={class:"right"},ts={class:"oszesites_b"},es={class:"left"},is=r(()=>s("p",{class:"t"},"Szállítási mód",-1)),os={key:0,class:"c"},as={key:1,class:"c"},ds={class:"right"},rs={class:"oszesites_b"},cs={class:"left"},ls=r(()=>s("p",{class:"t"},"Fizetési mód",-1)),ns={key:0,class:"c"},hs={key:1,class:"c"},_s={class:"right"},ps=r(()=>s("br",null,null,-1)),us={key:2},vs=r(()=>s("br",null,null,-1)),fs=r(()=>s("br",null,null,-1));function gs(t,e,ms,ys,n,l){const v=u("RouterLink"),p=u("ion-icon");return o(),a("main",null,[s("section",F,[s("div",x,[_(v,{to:"/"},{default:m(()=>[q]),_:1})]),s("div",N,[s("div",{class:"header",onClick:e[0]||(e[0]=i=>this.showCart=!this.showCart)},[s("div",M,[_(p,{class:"cart_icon",name:"cart-outline"}),I,_(p,{name:"chevron-down-outline"})]),s("div",O,[s("b",null,[s("p",null,d(l.total)+" Ft",1)])])]),this.showCart?(o(),a("div",T,[s("div",L,[(o(!0),a(y,null,k(n.cart,(i,f)=>(o(),a("div",{class:"cart_item",key:f},[s("div",V,[s("div",$,[i.img!=null?(o(),a("img",{key:0,src:n.imgurl+i.img},null,8,B)):c("",!0)]),s("div",E,[s("p",null,d(i.name),1),s("p",null,"Méret: "+d(i.size),1),s("p",J,d(i.quantity),1)])]),s("div",R,[s("h5",null,d(i.price)+" Ft",1)])]))),128))]),s("div",j,[s("div",null,[A,s("b",null,[s("p",null,d(l.total)+" Ft",1)])])])])):c("",!0)]),H,s("div",D,[s("div",K,[s("div",U,[G,s("p",P,d(this.order.u_email),1)]),s("div",Q,[s("p",{class:"ch",onClick:e[1]||(e[1]=i=>l.backto("customer"))},"Módosítás")])]),s("div",W,[s("div",X,[Y,s("p",Z,d(this.order.u_postnumber)+" "+d(this.order.u_city)+", "+d(this.order.u_addresse)+", "+d(this.order.u_legio),1)]),s("div",ss,[s("p",{class:"ch",onClick:e[2]||(e[2]=i=>l.backto("customer"))},"Módosítás")])]),s("div",ts,[s("div",es,[is,this.order.shipping=="delivery-cash"?(o(),a("p",os," Házhozszállítás ")):c("",!0),this.order.shipping=="delivery-card"?(o(),a("p",as," Házhozszállítás ")):c("",!0)]),s("div",ds,[s("p",{class:"ch",onClick:e[3]||(e[3]=i=>l.backto("shipping"))},"Módosítás")])]),s("div",rs,[s("div",cs,[ls,this.order.shipping=="delivery-cash"?(o(),a("p",ns," Utánvétes fizetés ")):c("",!0),this.order.shipping=="delivery-card"?(o(),a("p",hs," Online fizetés ")):c("",!0)]),s("div",_s,[s("p",{class:"ch",onClick:e[4]||(e[4]=i=>l.backto("paying"))},"Módosítás")])])]),s("div",null,[ps,!n.loading&&this.order.shipping=="delivery-cash"?(o(),a("button",{key:0,onClick:e[5]||(e[5]=i=>l.ordercash())}," Megrendelés ")):c("",!0),!n.loading&&this.order.shipping=="delivery-card"?(o(),a("button",{key:1,onClick:e[6]||(e[6]=i=>l.orderpay())}," Fizetés és megrendelés ")):c("",!0),n.loading?(o(),a("button",us,"Töltés")):c("",!0)])]),vs,fs])}const zs=g(S,[["render",gs],["__scopeId","data-v-ffa99f89"]]);export{zs as default};
