import{H as b}from"./Header-2bca2435.js";import{_ as m,h as u,r as x,o as l,c as n,b as e,F as v,f,e as a,t as o,d as _,a as k,p as z,l as C}from"./index-3c88a60d.js";const S={name:"GetInvetory",data(){return{orders:[],p_order:[],details:!1,imgurl:"/prodimgs/"}},mounted(){u.get("https://elenora.hu:444/orders/getall").then(r=>this.orders=r.data.r_orders)},methods:{openitemdetails(r){u.get("https://elenora.hu:444/orders/getbyid/"+r).then(i=>this.p_order=i.data),this.details=!0},p_delete(r){confirm("Biztosan törlöd a rendelést?")&&u.get("https://elenora.hu:444/orders/update/del/"+r)},p_maked(r){confirm("Biztos teljesen összevan készítve a rendelés?")&&u.get("https://elenora.hu:444/orders/update/maked/"+r)},p_shipping(r){confirm("Biztosan feladtad a GLS-nek a csomagot?")&&u.get("https://elenora.hu:444/orders/update/shipping/"+r)},p_finish(r){confirm("Biztosan teljesűlt a kézbesítés?")&&u.get("https://elenora.hu:444/orders/update/finish/"+r)}}},d=r=>(z("data-v-6a31b69e"),r=r(),C(),r),T={class:"listprod"},B={cellspacing:"0",cellpadding:"0"},j=d(()=>e("thead",null,[e("tr",null,[e("th",null,"Dátum / Rendelés szám"),e("th",null,"Állapot"),e("th",null,"Megrendelő"),e("th",null,"Fizetés"),e("th",null,"Összeg"),e("th"),e("th")])],-1)),F=d(()=>e("br",null,null,-1)),I={key:0,class:"stat red"},M={key:1,class:"stat orange"},R={key:2,class:"stat blue"},N={key:3,class:"stat lila"},O={key:4,class:"stat green"},L=d(()=>e("br",null,null,-1)),V={key:0},q={key:1},w=d(()=>e("td",null,null,-1)),D=["onClick"],E={key:0,class:"details_box"},G={class:"d_container"},H={style:{"text-align":"center"}},U={class:"customer_b"},A={class:"box"},J=d(()=>e("h5",null,"Megrendelő adatai:",-1)),K={class:"flex"},P=d(()=>e("b",null,[e("p",null,"Teljes név:")],-1)),Q={class:"flex"},W=d(()=>e("b",null,[e("p",null,"E-mail:")],-1)),X={class:"flex"},Y=d(()=>e("b",null,[e("p",null,"Tel.:")],-1)),Z={class:"box"},$=d(()=>e("h5",null,"Szállítás, számlázás:",-1)),ee={class:"flex"},se=d(()=>e("b",null,[e("p",null,"helység:")],-1)),te={class:"flex"},le=d(()=>e("b",null,[e("p",null,"Utca:")],-1)),ne={class:"box"},oe=d(()=>e("h5",null,"Rendelés adatai:",-1)),de={key:0,class:"flex"},re=d(()=>e("b",null,[e("p",null,"Idő:")],-1)),_e={class:"flex"},ie=d(()=>e("b",null,[e("p",null,"Státusz:")],-1)),ue=d(()=>e("h4",{style:{"text-align":"center"}},"Rendelt termékek",-1)),ce={class:"flex"},ae=d(()=>e("b",null,[e("p",null,"Neve:")],-1)),pe={class:"flex"},he=d(()=>e("b",null,[e("p",null,"Mennyiség:")],-1)),ve={class:"flex"},ke=d(()=>e("b",null,[e("p",null,"Méret:")],-1)),ge={key:0},fe={class:"order-btns"};function ye(r,i,y,ze,t,c){const g=x("ion-icon");return l(),n(v,null,[e("section",T,[e("table",B,[j,e("tbody",null,[(l(!0),n(v,null,f(t.orders,s=>(l(),n("tr",{key:s._id},[e("td",null,[a(o(s.createdtime.split("T")[0])+" ",1),F,a(" "+o(s.orderid),1)]),e("td",null,[s.status=="pending"?(l(),n("p",I," Rendelés alatt ")):_("",!0),s.status=="ordered"?(l(),n("p",M," Megrendelve ")):_("",!0),s.status=="maked"?(l(),n("p",R,"Összekészítve")):_("",!0),s.status=="shipping"?(l(),n("p",N,"Szállítás")):_("",!0),s.status=="done"?(l(),n("p",O,"Teljesítve")):_("",!0)]),e("td",null,[a(o(s.u_firstname+" "+s.u_name)+" ",1),L,a(" "+o(s.u_email),1)]),s.shipping=="delivery-card"?(l(),n("td",V,"Fizetve")):_("",!0),s.shipping=="delivery-cash"?(l(),n("td",q,"Utánvét")):_("",!0),e("td",null,o(s.cart.reduce((p,h)=>p+Math.round(h.price-h.price/100*h.sale)*h.quantity,0))+" Ft ",1),w,e("td",{onClick:p=>c.openitemdetails(s._id)},[k(g,{name:"eye-outline"})],8,D)]))),128))])])]),t.details?(l(),n("section",E,[e("div",G,[k(g,{onClick:i[0]||(i[0]=s=>t.details=!t.details),style:{"font-size":"24pt",position:"sticky",top:"0"},name:"close-outline"}),e("h3",H,[a(" Rendekés összesítő - "),e("i",null,o(t.p_order.orderid),1)]),e("div",U,[e("div",A,[J,e("div",K,[P,e("p",null,o(t.p_order.u_firstname)+" "+o(t.p_order.u_name),1)]),e("div",Q,[W,e("p",null,o(t.p_order.u_email),1)]),e("div",X,[Y,e("p",null,o(t.p_order.u_tel),1)])]),e("div",Z,[$,e("div",ee,[se,e("p",null,o(t.p_order.u_postnumber)+", "+o(t.p_order.u_city),1)]),e("div",te,[le,e("p",null,o(t.p_order.u_addresse),1)])]),e("div",ne,[oe,t.p_order.createdtime?(l(),n("div",de,[re,e("p",null,o(t.p_order.createdtime.split("T")[0]),1)])):_("",!0),e("div",_e,[ie,e("p",null,o(t.p_order.status),1)])])]),e("div",null,[ue,(l(!0),n(v,null,f(this.p_order.cart,(s,p)=>(l(),n("div",{class:"cartprod",key:p},[e("div",null,[e("div",ce,[ae,e("p",null,o(s.name),1)]),e("div",pe,[he,e("p",null,o(s.quantity),1)]),e("div",ve,[ke,s.size?(l(),n("p",ge,o(s.size),1)):_("",!0)])])]))),128))]),e("div",fe,[t.p_order.status!="done"?(l(),n("button",{key:0,onClick:i[1]||(i[1]=s=>c.p_delete(t.p_order._id)),class:"red"}," Törlés ")):_("",!0),t.p_order.status=="ordered"?(l(),n("button",{key:1,onClick:i[2]||(i[2]=s=>c.p_maked(t.p_order._id)),class:"blue"}," Összekészítve ")):_("",!0),t.p_order.status=="maked"?(l(),n("button",{key:2,onClick:i[3]||(i[3]=s=>c.p_shipping(t.p_order._id)),class:"orange"}," Feladva ")):_("",!0),t.p_order.status=="shipping"?(l(),n("button",{key:3,onClick:i[4]||(i[4]=s=>c.p_finish(t.p_order._id)),class:"green"}," Teljesítve ")):_("",!0)])])])):_("",!0)],64)}const be=m(S,[["render",ye],["__scopeId","data-v-6a31b69e"]]);const me=e("h1",{class:"title"},"Rendelések",-1),xe={data(){return{showAdd:!1}}},Te=Object.assign(xe,{__name:"Orders",setup(r){return(i,y)=>(l(),n(v,null,[k(b),me,e("main",null,[k(be)])],64))}});export{Te as default};
