import{H as V}from"./Header-bb2a65a1.js";import{_ as v,h as u,o as s,c as i,b as e,y as r,C as h,G as A,p as k,l as f,t as c,F as $,f as C,r as w,a as m,d as g,j as b}from"./index-d7dc88db.js";const j={name:"PostFormAxios",data(){return{form:{cupon_name:"",cupon_value:0},data:JSON.stringify(this.form)}},methods:{submitSave(){u.post("https://elenora.hu:444/cupons/add/"+this.form.cupon_name+"/"+this.form.cupon_value,this.data).then(function(){console.log("SUCCESS!!"),alert("Sikeres kupon mentés!")}).catch(t=>console.log(t))}}},z=t=>(k("data-v-7d6ece24"),t=t(),f(),t),K={class:"addcolection"},N={class:"input_wrapper"},M=z(()=>e("label",{for:""},"Neve",-1)),U=z(()=>e("label",{for:""},"Százaléka",-1)),B={class:"submit_wrapper"};function F(t,n,a,p,l,_){return s(),i("section",K,[e("form",{onSubmit:n[3]||(n[3]=A((...o)=>t.submitForm&&t.submitForm(...o),["prevent"]))},[e("div",N,[e("div",null,[M,r(e("input",{type:"text","onUpdate:modelValue":n[0]||(n[0]=o=>l.form.cupon_name=o),placeholder:"Kupon neve"},null,512),[[h,l.form.cupon_name]])]),e("div",null,[U,r(e("input",{type:"number","onUpdate:modelValue":n[1]||(n[1]=o=>l.form.cupon_value=o),placeholder:"Kupon százaléka"},null,512),[[h,l.form.cupon_value]])])]),e("div",B,[e("input",{type:"submit",value:"Kupon mentése",onClick:n[2]||(n[2]=o=>_.submitSave())})])],32)])}const P=v(j,[["render",F],["__scopeId","data-v-7d6ece24"]]);const x={name:"GetCollections",data(){return{products:[],json:[],p_name:null,p_precent:0,p_time:Date.now()}},mounted(){u.get("https://elenora.hu:444/products/getall").then(t=>this.products=t.data.products)},methods:{pick(t){this.p_name=t},savesale(){u.post("https://elenora.hu:444/sales/addsale/"+this.p_name+"/"+this.p_precent+"/"+this.p_time,JSON.stringify(this.json),{headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),alert("Sikeres akció mentés!")}).catch(t=>console.log(t))}}},S=t=>(k("data-v-3a1b5cff"),t=t(),f(),t),L={class:"addsale"},T=S(()=>e("h3",{style:{"text-align":"center"}},"Új akció termékre",-1)),E={class:"options-b"},G=S(()=>e("h5",null,"Választott termék:",-1)),D=S(()=>e("h5",null,"Hány százalékos?",-1)),H={action:""},O=S(()=>e("h5",null,"Meddig tartson?",-1)),J={cellspacing:"0",cellpadding:"0"},R=S(()=>e("thead",null,[e("tr",null,[e("th",null,"Neve"),e("th",null,"Ára"),e("th",null,"Kolekció"),e("th")])],-1)),q=["onClick"];function Q(t,n,a,p,l,_){return s(),i("section",L,[T,e("div",E,[e("div",null,[G,e("p",null,c(this.p_name),1)]),e("div",null,[D,r(e("input",{class:"precent",type:"number",name:"",id:"",placeholder:"Százalék","onUpdate:modelValue":n[0]||(n[0]=o=>l.p_precent=o)},null,512),[[h,l.p_precent]])]),e("div",null,[e("form",H,[O,r(e("input",{type:"date",name:"",id:"","onUpdate:modelValue":n[1]||(n[1]=o=>l.p_time=o)},null,512),[[h,l.p_time]])])]),e("div",null,[e("button",{onClick:n[2]||(n[2]=o=>_.savesale())},"Mentés")])]),e("div",null,[e("table",J,[R,e("tbody",null,[(s(!0),i($,null,C(l.products,o=>(s(),i("tr",{key:o._id},[e("td",null,c(o.prodname),1),e("td",null,c(o.price)+" Ft",1),e("td",null,c(o.collections),1),e("td",{class:"click",onClick:d=>_.pick(o.prodname)},"Választ",8,q)]))),128))])])])])}const W=v(x,[["render",Q],["__scopeId","data-v-3a1b5cff"]]);const X={name:"GetCollections",data(){return{collections:[],p_name:null,p_precent:0,p_time:Date.now()}},mounted(){u.get("https://elenora.hu:444/collections/getall").then(t=>this.collections=t.data)},methods:{pick(t){this.p_name=t},savesale(){u.post("https://elenora.hu:444/sales/addsalecollection/"+this.p_name+"/"+this.p_precent+"/"+this.p_time,JSON.stringify(this.products),{headers:{"Content-Type":"application/json"}}).then(function(t){console.log(t),alert("Sikeres akció mentés!")}).catch(function(){console.log("FAILURE!!")})}}},y=t=>(k("data-v-51c86243"),t=t(),f(),t),Y={class:"addsale"},Z=y(()=>e("h3",{style:{"text-align":"center"}},"Új akció kollekcióra",-1)),ee={class:"options-b"},te=y(()=>e("h5",null,"Választott kollekció:",-1)),ne=y(()=>e("h5",null,"Hány százalékos?",-1)),oe={action:""},le=y(()=>e("h5",null,"Meddig tartson?",-1)),se={cellspacing:"0",cellpadding:"0"},ie=y(()=>e("thead",null,[e("tr",null,[e("th",null,"Neve"),e("th",null,"Karkötők"),e("th")])],-1)),ae=["onClick"];function de(t,n,a,p,l,_){return s(),i("section",Y,[Z,e("div",ee,[e("div",null,[te,e("p",null,c(this.p_name),1)]),e("div",null,[ne,r(e("input",{class:"precent",type:"number",name:"",id:"",placeholder:"Százalék","onUpdate:modelValue":n[0]||(n[0]=o=>l.p_precent=o)},null,512),[[h,l.p_precent]])]),e("div",null,[e("form",oe,[le,r(e("input",{type:"date",name:"",id:"","onUpdate:modelValue":n[1]||(n[1]=o=>l.p_time=o)},null,512),[[h,l.p_time]])])]),e("div",null,[e("button",{onClick:n[2]||(n[2]=o=>_.savesale())},"Mentés")])]),e("div",null,[e("table",se,[ie,e("tbody",null,[(s(!0),i($,null,C(l.collections,o=>(s(),i("tr",{key:o._id},[e("td",null,c(o.col_name),1),e("td",null,c(o.col_db),1),e("td",{onClick:d=>_.pick(o.col_name)},"választ",8,ae)]))),128))])])])])}const ce=v(X,[["render",de],["__scopeId","data-v-51c86243"]]);const _e={name:"GetCollections",data(){return{collections:[]}},mounted(){u.get("https://elenora.hu:444/sales/getsaled").then(t=>this.collections=t.data.products)},methods:{deletesale(t){confirm("Biztos torolod a kedvezményt? Ez nem vonhato vissza!")&&u.get("https://elenora.hu:444/sales/delete/"+t)}}},ue=t=>(k("data-v-b44bb04c"),t=t(),f(),t),pe={class:"listprod"},re={cellspacing:"0",cellpadding:"0"},he=ue(()=>e("thead",null,[e("tr",null,[e("th",null,"Termék"),e("th",null,"Százalék"),e("th",null,"Meddig"),e("th")])],-1)),me=["onClick"];function ve(t,n,a,p,l,_){const o=w("ion-icon");return s(),i("section",pe,[e("table",re,[he,e("tbody",null,[(s(!0),i($,null,C(l.collections,d=>(s(),i("tr",{key:d._id},[e("td",null,c(d.prodname),1),e("td",null,c(d.saleprecent),1),e("td",null,c(d.saletime.split("T")[0]),1),e("td",{onClick:I=>_.deletesale(d._id)},[m(o,{name:"trash-outline"})],8,me)]))),128))])])])}const ke=v(_e,[["render",ve],["__scopeId","data-v-b44bb04c"]]);const fe={name:"GetCollections",data(){return{collections:[]}},mounted(){u.get("https://elenora.hu:444/cupons/getall").then(t=>this.collections=t.data)},methods:{deletesale(t){confirm("Biztos torolod a kedvezményt? Ez nem vonhato vissza!")&&u.get("https://elenora.hu:444/cupons/delete/"+t)}}},$e=t=>(k("data-v-74c63d49"),t=t(),f(),t),Se={class:"listprod"},ye={cellspacing:"0",cellpadding:"0"},ge=$e(()=>e("thead",null,[e("tr",null,[e("th",null,"Megnevezés"),e("th",null,"Százalék"),e("th",null,"Beváltva"),e("th")])],-1)),Ce=["onClick"];function be(t,n,a,p,l,_){const o=w("ion-icon");return s(),i("section",Se,[e("table",ye,[ge,e("tbody",null,[(s(!0),i($,null,C(l.collections,d=>(s(),i("tr",{key:d._id},[e("td",null,c(d.cupon_name),1),e("td",null,c(d.cupon_value),1),e("td",null,c(d.cupon_used),1),e("td",{onClick:I=>_.deletesale(d._id)},[m(o,{name:"trash-outline"})],8,Ce)]))),128))])])])}const we=v(fe,[["render",be],["__scopeId","data-v-74c63d49"]]);const ze=e("h1",{class:"title"},"Akciók / Kuponok",-1),Ie={class:"new-wrapper"},Ve=e("h3",null,"Új Kupon",-1),Ae=[Ve],je=e("h3",null,"Új Akció",-1),Ke=[je],Ne={key:0,class:"sales-options"},Me=e("h3",null,"Termékre",-1),Ue=[Me],Be=e("h3",null,"Kollekcióra",-1),Fe=[Be],Pe=e("h3",{class:"minititle"},"Akciók",-1),xe=e("h3",{class:"minititle"},"Kuponok",-1),Le={data(){return{showCupon:!1,showSale:!1,showSaleProd:!1,showSaleColle:!1}}},Ge=Object.assign(Le,{__name:"Sales",setup(t){return(n,a)=>(s(),i($,null,[m(V),ze,e("main",null,[e("section",Ie,[e("div",{onClick:a[0]||(a[0]=p=>n.showCupon=!n.showCupon)},Ae),e("div",{onClick:a[1]||(a[1]=p=>n.showSale=!n.showSale)},Ke)]),n.showSale?(s(),i("div",Ne,[e("div",{onClick:a[2]||(a[2]=p=>n.showSaleProd=!n.showSaleProd)},Ue),e("div",{onClick:a[3]||(a[3]=p=>n.showSaleColle=!n.showSaleColle)},Fe)])):g("",!0),n.showCupon?(s(),b(P,{key:1})):g("",!0),n.showSaleProd?(s(),b(W,{key:2})):g("",!0),n.showSaleColle?(s(),b(ce,{key:3})):g("",!0),Pe,m(ke),xe,m(we)])],64))}});export{Ge as default};
