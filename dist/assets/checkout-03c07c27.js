import{_ as f,r as v,o as a,c as n,b as e,a as p,w as g,t as c,F as y,f as k,d as i,m as r,s as u,e as w,v as z,g as S,h as _,L as V,p as C,l as N,x as T}from"./index-caae7197.js";const l=o=>(C("data-v-db0ddf7c"),o=o(),N(),o),U={class:"datas_w"},F={class:"logo_w"},I=l(()=>e("img",{class:"logo",src:T,alt:"ELENORA"},null,-1)),L={class:"cart_w"},O={class:"text"},q=l(()=>e("p",null,"Tekintsd meg a kosarad tartalmát",-1)),j={class:"price"},E={key:0,class:"cart"},M={class:"list"},B={class:"cart_item_imgtext"},J={class:"cart_item_img"},R=["src"],$={class:"cart_item_desc"},A={key:0},D={key:1,class:"quantity"},K={class:"cart_item_del"},G={class:"prices"},H=l(()=>e("p",null,"Összeg",-1)),P=S('<div class="order_status" data-v-db0ddf7c><div class="sec" data-v-db0ddf7c><div class="circle active" data-v-db0ddf7c><p class="active" data-v-db0ddf7c>1</p></div><div class="title" data-v-db0ddf7c><p data-v-db0ddf7c>Adatok</p></div></div><div class="hr" data-v-db0ddf7c></div><div class="sec" data-v-db0ddf7c><div class="circle" data-v-db0ddf7c><p data-v-db0ddf7c>2</p></div><div class="title" data-v-db0ddf7c><p data-v-db0ddf7c>Szállítás - Fizetés</p></div></div><div class="hr" data-v-db0ddf7c></div><div class="sec" data-v-db0ddf7c><div class="circle" data-v-db0ddf7c><p data-v-db0ddf7c>3</p></div><div class="title" data-v-db0ddf7c><p data-v-db0ddf7c>Összegzés</p></div></div></div>',1),Q=l(()=>e("h3",null,"Kapcsolattartási adatok",-1)),W=l(()=>e("br",null,null,-1)),X=l(()=>e("h3",null,"Szállítási cím",-1)),Y=l(()=>e("br",null,null,-1)),Z=l(()=>e("br",null,null,-1)),x=l(()=>e("input",{type:"text",placeholder:"Ország/régió",value:"Magyarország",readonly:"readonly"},null,-1)),ee=l(()=>e("br",null,null,-1)),se=l(()=>e("br",null,null,-1)),te=l(()=>e("br",null,null,-1)),de=l(()=>e("br",null,null,-1)),le={class:"flex"},oe=l(()=>e("label",{for:"news"},"Szeretnék értesülni az aktuális ajánlatokról",-1)),ae=l(()=>e("br",null,null,-1)),ne=l(()=>e("br",null,null,-1)),re={key:1,class:"off"},ie={key:2},ue=l(()=>e("br",null,null,-1)),ce=l(()=>e("br",null,null,-1)),pe={data(){return{showCart:!1,sub:!1,cart:[],user:[],imgurl:"https://elenora.hu:444/getimage/",orderid:this.$route.query.order,loading:!1}},created(){this.cart=JSON.parse(localStorage.getItem("cart")||"[]")},computed:{total(){return this.cart.reduce((o,s)=>o+s.price*s.quantity,0)}},methods:{next(){console.log(this.user),this.loading=!0,this.sub&&_.post("https://elenora.hu:444/newsletter/subscribe",JSON.stringify({email:this.user.u_email,name1:this.user.u_firstname,name2:this.user.u_name}),{headers:{"Content-Type":"application/json"}}).then(o=>this.succes=!0).catch(o=>{console.error("There was an error!",o)}),_.post("https://elenora.hu:444/orders/saveuser/"+this.orderid,JSON.stringify(this.user),{headers:{"Content-Type":"application/json"}}).then(o=>this.$router.push({path:"/shop/checkout/shipping",query:{order:this.orderid}})).catch(o=>{console.error("There was an error!",o)})}},mounted(){_.get("https://elenora.hu:444/orders/getbyid/"+this.orderid).then(o=>this.user=o.data)}},_e=Object.assign(pe,{__name:"checkout",setup(o){return(s,d)=>{const m=v("RouterLink"),h=v("ion-icon");return a(),n("main",null,[e("section",U,[e("div",F,[p(m,{to:"/"},{default:g(()=>[I]),_:1})]),e("div",L,[e("div",{class:"header",onClick:d[0]||(d[0]=t=>s.showCart=!s.showCart)},[e("div",O,[p(h,{class:"cart_icon",name:"cart-outline"}),q,p(h,{name:"chevron-down-outline"})]),e("div",j,[e("b",null,[e("p",null,c(s.total)+" Ft",1)])])]),s.showCart?(a(),n("div",E,[e("div",M,[(a(!0),n(y,null,k(s.cart,(t,b)=>(a(),n("div",{class:"cart_item",key:b},[e("div",B,[e("div",J,[t.img!=null?(a(),n("img",{key:0,src:s.imgurl+t.img},null,8,R)):i("",!0)]),e("div",$,[e("p",null,c(t.name),1),t.visitno?i("",!0):(a(),n("p",A,"Méret: "+c(t.size),1)),t.visitno?i("",!0):(a(),n("p",D,c(t.quantity),1))])]),e("div",K,[e("h5",null,c(t.price)+" Ft",1)])]))),128))]),e("div",G,[e("div",null,[H,e("b",null,[e("p",null,c(s.total)+" Ft",1)])])])])):i("",!0)]),P,e("div",null,[Q,r(e("input",{type:"text",placeholder:"E-mail-cím","onUpdate:modelValue":d[1]||(d[1]=t=>s.user.u_email=t)},null,512),[[u,s.user.u_email]]),W,X,r(e("input",{type:"text",placeholder:"Vezetéknév","onUpdate:modelValue":d[2]||(d[2]=t=>s.user.u_first=t)},null,512),[[u,s.user.u_first]]),r(e("input",{type:"text",placeholder:"Utónév","onUpdate:modelValue":d[3]||(d[3]=t=>s.user.u_name=t)},null,512),[[u,s.user.u_name]]),w(),Y,Z,x,ee,r(e("input",{type:"text",placeholder:"Irányítószám","onUpdate:modelValue":d[4]||(d[4]=t=>s.user.u_postnumber=t)},null,512),[[u,s.user.u_postnumber]]),se,r(e("input",{type:"text",placeholder:"Település","onUpdate:modelValue":d[5]||(d[5]=t=>s.user.u_city=t)},null,512),[[u,s.user.u_city]]),te,r(e("input",{type:"text",placeholder:"Cím","onUpdate:modelValue":d[6]||(d[6]=t=>s.user.u_addresse=t)},null,512),[[u,s.user.u_addresse]]),de,r(e("input",{type:"text",placeholder:"Telefonszám","onUpdate:modelValue":d[7]||(d[7]=t=>s.user.u_tel=t)},null,512),[[u,s.user.u_tel]]),e("div",le,[r(e("input",{class:"checkbox",type:"checkbox",name:"news",id:"news","onUpdate:modelValue":d[8]||(d[8]=t=>s.sub=t)},null,512),[[z,s.sub]]),oe]),ae,ne,!s.loading&&!(s.user.u_email==""||s.user.u_name==""||s.user.u_first==""||s.user.u_postnumber==""||s.user.u_regio==""||s.user.u_addresse==""||s.user.u_tel=="")?(a(),n("button",{key:0,onClick:d[9]||(d[9]=(...t)=>s.next&&s.next(...t))}," Szállítási módok ")):i("",!0),!s.loading&&s.user.u_email==""||s.user.u_name==""||s.user.u_first==""||s.user.u_postnumber==""||s.user.u_regio==""||s.user.u_addresse==""||s.user.u_tel==""?(a(),n("button",re," Szállítási módok ")):i("",!0),s.loading?(a(),n("button",ie,[p(V)])):i("",!0)])]),ue,ce])}}}),ve=f(_e,[["__scopeId","data-v-db0ddf7c"]]);export{ve as default};
