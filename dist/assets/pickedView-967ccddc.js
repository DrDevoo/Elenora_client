import{m as j,n as M,q as A,s as $,v as L,x as z,_ as N,r as S,o as i,c as a,j as u,i as F,b as n,a as h,w as P,d as r,F as q,f as B,h as f,u as b,t as g,y,z as w,A as T,B as E,C as X,e as O,k as D,p as U,l as J}from"./index-f8e94ee1.js";var K=Object.defineProperty,R=Object.defineProperties,G=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,Q=Object.prototype.propertyIsEnumerable,C=(s,e,o)=>e in s?K(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,W=(s,e)=>{for(var o in e||(e={}))H.call(e,o)&&C(s,o,e[o]);if(I)for(var o of I(e))Q.call(e,o)&&C(s,o,e[o]);return s},Y=(s,e)=>R(s,G(e)),_={props:{src:{type:String,required:!0},srcPlaceholder:{type:String,default:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"},srcset:{type:String},intersectionOptions:{type:Object,default:()=>({})},usePicture:{type:Boolean,default:!1}},inheritAttrs:!1,setup(s,{attrs:e,slots:o,emit:d}){const l=j(null),t=M({observer:null,intersected:!1,loaded:!1}),v=A(()=>t.intersected&&s.src?s.src:s.srcPlaceholder),p=A(()=>t.intersected&&s.srcset?s.srcset:!1),c=()=>{l.value&&l.value.getAttribute("src")!==s.srcPlaceholder&&(t.loaded=!0,d("load",l.value))},V=()=>d("error",l.value);return $(()=>{"IntersectionObserver"in window&&(t.observer=new IntersectionObserver(k=>{k[0].isIntersecting&&(t.intersected=!0,t.observer.disconnect(),d("intersect"))},s.intersectionOptions),t.observer.observe(l.value))}),L(()=>{"IntersectionObserver"in window&&t.observer&&t.observer.disconnect()}),()=>{const k=z("img",Y(W({ref:l,src:v.value,srcset:p.value||null},e),{class:[e.class,"v-lazy-image",{"v-lazy-image-loaded":t.loaded}],onLoad:c,onError:V}));return s.usePicture?z("picture",{ref:l,onLoad:c},t.intersected?[o.default,k]:[k]):k}}};const m=s=>(U("data-v-3783ba6d"),s=s(),J(),s),Z={class:"top-s"},x={class:"thumblist"},ee={class:"texts-b"},se={key:0},te={key:1},oe={key:2,class:"oldprice"},ne={key:3,class:"newprice"},ie={class:"plus_w"},re={key:0},ae=m(()=>n("label",{for:"doboz"},"Dísz dobozban legyen a termék (+590 Ft)",-1)),le={key:1},de=m(()=>n("label",{style:{color:"gray"},for:"doboz"},"Díszdobozban legyen a termék (+590 Ft)",-1)),ce=m(()=>n("label",{for:"ko"},"Kérek mellé ásvány követ ",-1)),pe={key:0,for:"ko"},ue={key:2,class:"stonelist"},me={class:"stone"},he=["src","onClick"],ge={class:"input-b"},ve={class:"selects-b"},ke={class:"size-b box"},be=m(()=>n("p",null,"Méret",-1)),ye={key:0,value:"XS"},_e={key:1,value:"S"},fe={key:2,value:"M"},we={key:3,value:"L"},Ae={key:4,value:"XL"},ze={key:5,value:"XXL"},Se={class:"mennyiseg-b box"},Pe=m(()=>n("p",null,"Mennyiség",-1)),qe={class:"quantity_b"},Be={class:"add-b"},Oe={key:1},Ie={class:"bottom-s"},Ce={class:"description-s"},Ve={class:"desc-b"},je=m(()=>n("h4",null,"Ásványok",-1)),Me={key:0,class:"text-b"},$e={class:"desc-b"},Le=m(()=>n("h4",null,"Egyedi karkötő",-1)),Ne={key:0,class:"text-b"},Fe=m(()=>n("p",null,"Egyedi karkötőt szeretnél? Keress meg minket Instagrammon!",-1)),Te=[Fe],Ee=m(()=>n("section",{class:"favorites-s"},null,-1)),Xe={data(){return{showB1:!0,showB2:!1,showB3:!1,showPStone:!1,forbox:!1,response:[],stones:[],p_stone_name:"",p_stone_price:"",p_stone_img:"",p_stone_id:"",access:[],cart:[],imgurl:"/prodimgs/",quantity:1,size:"M",key:0,p_img:null}},mounted(){this.cart=JSON.parse(localStorage.getItem("cart")||"[]"),f.get("https://elenora.hu:444/products/getbyid/"+this.$route.query.id).then(s=>this.response=s.data.product),f.get("https://elenora.hu:444/products/getbyid/"+this.$route.query.id).then(s=>this.access=s.data),f.get("https://elenora.hu:444/products/getall/stone").then(s=>this.stones=s.data)},methods:{addToCart(s,e,o){let d=0;if(this.response.activesale=="true"?d=Math.round(s.price-s.price/100*this.response.saleprecent):d=s.price,this.forbox)var l=this.cart.find(p=>p.name==s.prodname+" (díszdobozos)");else var l=this.cart.find(c=>c.name==s.prodname);if(l)if(this.forbox){var t=this.cart.findIndex(p=>p.name==s.prodname+" (díszdobozos)");console.log("Van mar ilyen a kosarba: "+t),this.cart[t].quantity+=e}else{var t=this.cart.findIndex(c=>c.name==s.prodname);console.log("Van mar ilyen a kosarba: "+t),this.cart[t].quantity+=e}else console.log("Nincs ilyen a kosarba"),this.forbox?(this.cart.push({id:s._id,name:s.prodname+" (díszdobozos)",img:s.image,size:o,price:d+590,quantity:e,sale:0}),this.showPStone&&this.cart.push({id:this.p_stone_id,name:this.p_stone_name+" ("+this.response.prodname+" mellé)",img:this.p_stone_img,size:null,price:this.p_stone_price,quantity:this.quantity,sale:0,visitno:!0})):(this.cart.push({id:s._id,name:s.prodname,img:s.image,size:o,price:d,quantity:e,sale:0}),this.showPStone&&this.cart.push({id:this.p_stone_id,name:this.p_stone_name+" ("+this.response.prodname+" mellé)",img:this.p_stone_img,size:null,price:this.p_stone_price,quantity:this.quantity,sale:0,visitno:!0}));localStorage.setItem("cart",JSON.stringify(this.cart)),this.key+=1;let v=this.cart.reduce((p,c)=>p+Math.round(c.price-c.price/100*c.sale)*c.quantity,0);if(console.log(v),v>1e4){let p=this.cart.find(c=>c.name=="Ajándék zsákbamacska karkötő");console.log(p),p?console.log("van ajandek"):(console.log("Nincs ajndek"),this.cart.push({id:9,name:"Ajándék zsákbamacska karkötő",price:0,quantity:1,sale:0,img:null,visitno:!0}),localStorage.setItem("cart",JSON.stringify(this.cart)),this.key+=1),console.log("JAR az ajandek kakroto")}},addq(){this.quantity<15&&(this.quantity+=1)},minq(){this.quantity>1&&(this.quantity-=1)},select(s){console.log(s),this.p_img=s},selectStone(s,e,o,d){this.p_stone_name=s,this.p_stone_img=e,this.p_stone_price=o,this.p_stone_id=d}}},De=Object.assign(Xe,{__name:"pickedView",setup(s){return(e,o)=>{const d=S("setion"),l=S("ion-icon");return i(),a("main",null,[(i(),u(F,{key:e.key})),n("section",Z,[h(d,{class:"images-s"},{default:P(()=>[n("div",null,[e.response.image&&e.p_img==null?(i(),u(b(_),{key:0,src:"/newimgs/"+e.response.image+".webp",class:"pickedimg",alt:"Termék képe"},null,8,["src"])):r("",!0),e.p_img!=null?(i(),u(b(_),{key:1,src:"/newimgs/"+e.p_img+".webp",class:"pickedimg",alt:"Termék képe"},null,8,["src"])):r("",!0)]),n("div",x,[e.response.image?(i(),u(b(_),{key:0,onClick:o[0]||(o[0]=t=>e.select(e.response.image)),class:"thumbimg",src:"/newimgs/"+e.response.image+".webp",alt:"Termék képe"},null,8,["src"])):r("",!0),e.response.image2&&e.response.image2!="46bea41c0363d722467defc2f1ecc234"?(i(),u(b(_),{key:1,onClick:o[1]||(o[1]=t=>e.select(e.response.image2)),class:"thumbimg",src:"/newimgs/"+e.response.image2+".webp",alt:"Termék képe"},null,8,["src"])):r("",!0),e.response.image3&&e.response.image3!="46bea41c0363d722467defc2f1ecc234"?(i(),u(b(_),{key:2,onClick:o[2]||(o[2]=t=>e.select(e.response.image3)),class:"thumbimg",src:"/newimgs/"+e.response.image3+".webp",alt:"Termék képe"},null,8,["src"])):r("",!0)])]),_:1}),h(d,{class:"texts-s"},{default:P(()=>[n("div",ee,[e.response.prodname?(i(),a("h1",se,g(e.response.prodname),1)):r("",!0),e.response.price&&e.response.activesale=="false"?(i(),a("h3",te,g(e.response.price)+" Ft ",1)):r("",!0),e.response.price&&e.response.activesale=="true"?(i(),a("h3",oe,g(e.response.price)+" Ft ",1)):r("",!0),e.response.price&&e.response.activesale=="true"?(i(),a("h3",ne,g(Math.round(e.response.price-e.response.price/100*e.response.saleprecent))+" Ft ",1)):r("",!0)]),n("div",null,[n("div",ie,[e.access.box==!0?(i(),a("div",re,[y(n("input",{type:"checkbox",name:"doboz",id:"doboz","onUpdate:modelValue":o[3]||(o[3]=t=>e.forbox=t)},null,512),[[w,e.forbox]]),ae])):r("",!0),e.access.box==!1?(i(),a("div",le,[y(n("input",{type:"checkbox",name:"doboz",id:"doboz","onUpdate:modelValue":o[4]||(o[4]=t=>e.forbox=t),disabled:""},null,512),[[w,e.forbox]]),de])):r("",!0),n("div",null,[y(n("input",{type:"checkbox",name:"ko",id:"ko","onUpdate:modelValue":o[5]||(o[5]=t=>e.showPStone=t)},null,512),[[w,e.showPStone]]),ce,e.p_stone_id&&e.showPStone?(i(),a("label",pe," ∙ ("+g(e.p_stone_name)+" +"+g(e.p_stone_price)+" Ft)",1)):r("",!0)]),e.showPStone?(i(),a("div",ue,[(i(!0),a(q,null,B(e.stones,t=>(i(),a("div",me,[n("img",{class:T(["s_img",{selected:t.prodname==e.p_stone_name}]),src:"/newimgs/"+t.image+".webp",onClick:v=>e.selectStone(t.prodname,t.image,t.price,t._id)},null,10,he)]))),256))])):r("",!0)])]),n("div",ge,[n("div",ve,[n("div",ke,[be,y(n("select",{"onUpdate:modelValue":o[6]||(o[6]=t=>e.size=t),class:"size_b"},[e.access.xs==!0?(i(),a("option",ye,"XS")):r("",!0),e.access.s==!0?(i(),a("option",_e,"S")):r("",!0),e.access.m==!0?(i(),a("option",fe,"M")):r("",!0),e.access.l==!0?(i(),a("option",we,"L")):r("",!0),e.access.xl==!0?(i(),a("option",Ae,"XL")):r("",!0),e.access.xxl==!0?(i(),a("option",ze,"XXL")):r("",!0)],512),[[E,e.size]])]),n("div",Se,[Pe,n("div",qe,[h(l,{name:"add-outline",onClick:o[7]||(o[7]=t=>e.addq())}),y(n("input",{type:"number",min:"1",max:"15","onUpdate:modelValue":o[8]||(o[8]=t=>e.quantity=t)},null,512),[[X,e.quantity]]),h(l,{name:"remove-outline",onClick:o[9]||(o[9]=t=>e.minq())})])])]),n("div",Be,[e.access.xs==!0?(i(),a("button",{key:0,onClick:o[10]||(o[10]=t=>e.addToCart(e.response,e.quantity,e.size))},[O(" Kosárba teszem"),h(l,{name:"cart-outline"})])):r("",!0),e.access.xs==!1?(i(),a("button",Oe,[O(" A termék nem elérhető!"),h(l,{name:"cart-outline"})])):r("",!0)])])]),_:1})]),n("section",Ie,[n("section",Ce,[n("div",Ve,[n("div",{onClick:o[11]||(o[11]=t=>e.showB2=!e.showB2),class:"title-b"},[je,e.showB2?r("",!0):(i(),u(l,{key:0,name:"chevron-up-outline"})),e.showB2?(i(),u(l,{key:1,class:"downarrow",name:"chevron-down-outline"})):r("",!0)]),e.showB2?(i(),a("div",Me,[(i(!0),a(q,null,B(e.response.pearls,t=>(i(),a("p",{key:t._id},g(t.name),1))),128))])):r("",!0)]),n("div",$e,[n("div",{onClick:o[12]||(o[12]=t=>e.showB3=!e.showB3),class:"title-b"},[Le,e.showB3?r("",!0):(i(),u(l,{key:0,name:"chevron-up-outline"})),e.showB3?(i(),u(l,{key:1,class:"downarrow",name:"chevron-down-outline"})):r("",!0)]),e.showB3?(i(),a("div",Ne,Te)):r("",!0)])]),Ee]),h(D)])}}}),Ke=N(De,[["__scopeId","data-v-3783ba6d"]]);export{Ke as default};
