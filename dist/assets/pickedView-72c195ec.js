import{_ as B,r as b,o as t,c as l,j as h,i as C,b as s,a as c,w as v,d as a,F as f,f as w,h as y,u as z,t as k,y as g,z as _,A as V,B as $,C as I,e as S,k as M,p as N,l as T}from"./index-7d631371.js";import{i as q}from"./v-lazy-image-2a0a08fb.js";const m=i=>(N("data-v-a25913fa"),i=i(),T(),i),X={class:"top-s"},j={class:"thumblist"},F=["src"],L=["src"],P=["src"],A={class:"texts-b"},U={key:0},D={key:1},J={class:"plus_w"},O={key:0},E=m(()=>s("label",{for:"doboz"},"Dísz dobozban legyen a termék (+590 Ft)",-1)),K={key:1},R=m(()=>s("label",{style:{color:"gray"},for:"doboz"},"Díszdobozban legyen a termék (+590 Ft)",-1)),G=m(()=>s("label",{for:"ko"},"Kérek mellé ásvány követ ",-1)),H={key:0,for:"ko"},Q={key:2,class:"stonelist"},W={class:"stone"},Y=["src","onClick"],Z={class:"input-b"},x={class:"selects-b"},ee={class:"size-b box"},se=m(()=>s("p",null,"Méret",-1)),oe={key:0,value:"XS"},te={key:1,value:"S"},ne={key:2,value:"M"},ie={key:3,value:"L"},ae={key:4,value:"XL"},le={key:5,value:"XXL"},re={class:"mennyiseg-b box"},de=m(()=>s("p",null,"Mennyiség",-1)),ue={class:"quantity_b"},me={class:"add-b"},pe={key:1},he={class:"bottom-s"},ce={class:"description-s"},ke={class:"desc-b"},ge=m(()=>s("h4",null,"Ásványok",-1)),ye={key:0,class:"text-b"},_e={class:"desc-b"},be=m(()=>s("h4",null,"Egyedi karkötő",-1)),ve={key:0,class:"text-b"},fe=m(()=>s("p",null,"Egyedi karkötőt szeretnél? Keress meg minket Instagrammon!",-1)),we=[fe],ze=m(()=>s("section",{class:"favorites-s"},null,-1)),Se={data(){return{showB1:!0,showB2:!1,showB3:!1,showPStone:!1,forbox:!1,response:[],stones:[],p_stone_name:"",p_stone_price:"",p_stone_img:"",p_stone_id:"",access:[],cart:[],imgurl:"/prodimgs/",quantity:1,size:"M",key:0,p_img:null}},mounted(){this.cart=JSON.parse(localStorage.getItem("cart")||"[]"),y.get("https://elenora.hu:444/products/getbyid/"+this.$route.query.id).then(i=>this.response=i.data.product),y.get("https://elenora.hu:444/products/getbyid/"+this.$route.query.id).then(i=>this.access=i.data),y.get("https://elenora.hu:444/products/getall/stone").then(i=>this.stones=i.data)},methods:{addToCart(i,e,o){if(this.forbox)var p=this.cart.find(u=>u.name==i.prodname+" (díszdobozos)");else var p=this.cart.find(d=>d.name==i.prodname);if(p)if(this.forbox){var r=this.cart.findIndex(u=>u.name==i.prodname+" (díszdobozos)");console.log("Van mar ilyen a kosarba: "+r),this.cart[r].quantity+=e}else{var r=this.cart.findIndex(d=>d.name==i.prodname);console.log("Van mar ilyen a kosarba: "+r),this.cart[r].quantity+=e}else console.log("Nincs ilyen a kosarba"),this.forbox?(this.cart.push({id:i._id,name:i.prodname+" (díszdobozos)",img:i.image,size:o,price:i.price+590,quantity:e,sale:0}),this.showPStone&&this.cart.push({id:this.p_stone_id,name:this.p_stone_name+" ("+this.response.prodname+" mellé)",img:this.p_stone_img,size:null,price:this.p_stone_price,quantity:this.quantity,sale:0,visitno:!0})):(this.cart.push({id:i._id,name:i.prodname,img:i.image,size:o,price:i.price,quantity:e,sale:0}),this.showPStone&&this.cart.push({id:this.p_stone_id,name:this.p_stone_name+" ("+this.response.prodname+" mellé)",img:this.p_stone_img,size:null,price:this.p_stone_price,quantity:this.quantity,sale:0,visitno:!0}));localStorage.setItem("cart",JSON.stringify(this.cart)),this.key+=1;let n=this.cart.reduce((u,d)=>u+Math.round(d.price-d.price/100*d.sale)*d.quantity,0);if(console.log(n),n>1e4){let u=this.cart.find(d=>d.name=="Ajándék zsákbamacska karkötő");console.log(u),u?console.log("van ajandek"):(console.log("Nincs ajndek"),this.cart.push({id:9,name:"Ajándék zsákbamacska karkötő",price:0,quantity:1,sale:0,img:null,visitno:!0}),localStorage.setItem("cart",JSON.stringify(this.cart)),this.key+=1),console.log("JAR az ajandek kakroto")}},addq(){this.quantity<15&&(this.quantity+=1)},minq(){this.quantity>1&&(this.quantity-=1)},select(i){console.log(i),this.p_img=i},selectStone(i,e,o,p){this.p_stone_name=i,this.p_stone_img=e,this.p_stone_price=o,this.p_stone_id=p}}},qe=Object.assign(Se,{__name:"pickedView",setup(i){return(e,o)=>{const p=b("setion"),r=b("ion-icon");return t(),l("main",null,[(t(),h(C,{key:e.key})),s("section",X,[c(p,{class:"images-s"},{default:v(()=>[s("div",null,[e.response.image&&e.p_img==null?(t(),h(z(q),{key:0,src:e.imgurl+e.response.image,"src-placeholder":e.imgurl+e.response.image,class:"pickedimg",alt:"Termék képe"},null,8,["src","src-placeholder"])):a("",!0),e.p_img!=null?(t(),h(z(q),{key:1,src:e.imgurl+e.response.image,"src-placeholder":e.imgurl+e.response.image,class:"pickedimg",alt:"Termék képe"},null,8,["src","src-placeholder"])):a("",!0)]),s("div",j,[e.response.image?(t(),l("img",{key:0,onClick:o[0]||(o[0]=n=>e.select(e.response.image)),class:"thumbimg",src:e.imgurl+e.response.image,alt:"Termék képe"},null,8,F)):a("",!0),e.response.image2&&e.response.image2!="46bea41c0363d722467defc2f1ecc234"?(t(),l("img",{key:1,onClick:o[1]||(o[1]=n=>e.select(e.response.image2)),class:"thumbimg",src:e.imgurl+e.response.image2,alt:"Termék képe"},null,8,L)):a("",!0),e.response.image3&&e.response.image3!="46bea41c0363d722467defc2f1ecc234"?(t(),l("img",{key:2,onClick:o[2]||(o[2]=n=>e.select(e.response.image3)),class:"thumbimg",src:e.imgurl+e.response.image3,alt:"Termék képe"},null,8,P)):a("",!0)])]),_:1}),c(p,{class:"texts-s"},{default:v(()=>[s("div",A,[e.response.prodname?(t(),l("h1",U,k(e.response.prodname),1)):a("",!0),e.response.price?(t(),l("h3",D,k(e.response.price)+" Ft",1)):a("",!0)]),s("div",null,[s("div",J,[e.access.box==!0?(t(),l("div",O,[g(s("input",{type:"checkbox",name:"doboz",id:"doboz","onUpdate:modelValue":o[3]||(o[3]=n=>e.forbox=n)},null,512),[[_,e.forbox]]),E])):a("",!0),e.access.box==!1?(t(),l("div",K,[g(s("input",{type:"checkbox",name:"doboz",id:"doboz","onUpdate:modelValue":o[4]||(o[4]=n=>e.forbox=n),disabled:""},null,512),[[_,e.forbox]]),R])):a("",!0),s("div",null,[g(s("input",{type:"checkbox",name:"ko",id:"ko","onUpdate:modelValue":o[5]||(o[5]=n=>e.showPStone=n)},null,512),[[_,e.showPStone]]),G,e.p_stone_id&&e.showPStone?(t(),l("label",H," ∙ ("+k(e.p_stone_name)+" +"+k(e.p_stone_price)+" Ft)",1)):a("",!0)]),e.showPStone?(t(),l("div",Q,[(t(!0),l(f,null,w(e.stones,n=>(t(),l("div",W,[s("img",{class:V(["s_img",{selected:n.prodname==e.p_stone_name}]),src:e.imgurl+n.image,onClick:u=>e.selectStone(n.prodname,n.image,n.price,n._id)},null,10,Y)]))),256))])):a("",!0)])]),s("div",Z,[s("div",x,[s("div",ee,[se,g(s("select",{"onUpdate:modelValue":o[6]||(o[6]=n=>e.size=n),class:"size_b"},[e.access.xs==!0?(t(),l("option",oe,"XS")):a("",!0),e.access.s==!0?(t(),l("option",te,"S")):a("",!0),e.access.m==!0?(t(),l("option",ne,"M")):a("",!0),e.access.l==!0?(t(),l("option",ie,"L")):a("",!0),e.access.xl==!0?(t(),l("option",ae,"XL")):a("",!0),e.access.xxl==!0?(t(),l("option",le,"XXL")):a("",!0)],512),[[$,e.size]])]),s("div",re,[de,s("div",ue,[c(r,{name:"add-outline",onClick:o[7]||(o[7]=n=>e.addq())}),g(s("input",{type:"number",min:"1",max:"15","onUpdate:modelValue":o[8]||(o[8]=n=>e.quantity=n)},null,512),[[I,e.quantity]]),c(r,{name:"remove-outline",onClick:o[9]||(o[9]=n=>e.minq())})])])]),s("div",me,[e.access.xs==!0?(t(),l("button",{key:0,onClick:o[10]||(o[10]=n=>e.addToCart(e.response,e.quantity,e.size))},[S(" Kosárba teszem"),c(r,{name:"cart-outline"})])):a("",!0),e.access.xs==!1?(t(),l("button",pe,[S(" A termék nem elérhető!"),c(r,{name:"cart-outline"})])):a("",!0)])])]),_:1})]),s("section",he,[s("section",ce,[s("div",ke,[s("div",{onClick:o[11]||(o[11]=n=>e.showB2=!e.showB2),class:"title-b"},[ge,e.showB2?a("",!0):(t(),h(r,{key:0,name:"chevron-up-outline"})),e.showB2?(t(),h(r,{key:1,class:"downarrow",name:"chevron-down-outline"})):a("",!0)]),e.showB2?(t(),l("div",ye,[(t(!0),l(f,null,w(e.response.pearls,n=>(t(),l("p",{key:n._id},k(n.name),1))),128))])):a("",!0)]),s("div",_e,[s("div",{onClick:o[12]||(o[12]=n=>e.showB3=!e.showB3),class:"title-b"},[be,e.showB3?a("",!0):(t(),h(r,{key:0,name:"chevron-up-outline"})),e.showB3?(t(),h(r,{key:1,class:"downarrow",name:"chevron-down-outline"})):a("",!0)]),e.showB3?(t(),l("div",ve,we)):a("",!0)])]),ze]),c(M)])}}}),Ve=B(qe,[["__scopeId","data-v-a25913fa"]]);export{Ve as default};
