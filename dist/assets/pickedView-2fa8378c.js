import{k as w,r as g,o as i,c as a,i as m,_ as q,b as s,a as u,w as _,d as l,F as y,f as v,h as k,t as h,l as c,v as b,m as z,n as S,e as f,j as B,p as C,q as $}from"./index-7c31271e.js";const p=n=>(C("data-v-eb357259"),n=n(),$(),n),V={class:"top-s"},M=["src"],N=["src"],T={class:"thumblist"},j=["src"],I=["src"],X=["src"],L={class:"texts-b"},F={key:0},P={key:1},A={class:"plus_w"},J=p(()=>s("label",{for:"doboz"},"Dísz dobozban legyen a termék (+590 Ft)",-1)),E={for:"ko"},O={key:0,class:"stonelist"},U={class:"stone"},D=["src","onClick"],K={class:"input-b"},R={class:"selects-b"},G={class:"size-b box"},H=p(()=>s("p",null,"Méret",-1)),Q={key:0,value:"XS"},W={key:1,value:"S"},Y={key:2,value:"M"},Z={key:3,value:"L"},x={key:4,value:"XL"},ee={key:5,value:"XXL"},se={class:"mennyiseg-b box"},te=p(()=>s("p",null,"Mennyiség",-1)),oe={class:"quantity_b"},ie={class:"add-b"},ne={key:1},ae={class:"bottom-s"},le={class:"description-s"},re={class:"desc-b"},de=p(()=>s("h4",null,"Ásványok",-1)),ue={key:0,class:"text-b"},pe={class:"desc-b"},me=p(()=>s("h4",null,"Egyedi karkötő",-1)),he={key:0,class:"text-b"},ce=p(()=>s("p",null,"Egyedi karkötőt szeretnél? Keress meg minket Instagrammon!",-1)),ke=[ce],ge=p(()=>s("section",{class:"favorites-s"},null,-1)),_e={data(){return{showB1:!0,showB2:!1,showB3:!1,showPStone:!1,forbox:!1,response:[],stones:[],p_stone_name:"",p_stone_price:"",p_stone_img:"",p_stone_id:"",access:[],cart:[],imgurl:"https://elenora.hu:444/getimage/",quantity:1,size:"M",key:0,p_img:null}},mounted(){this.cart=JSON.parse(localStorage.getItem("cart")||"[]"),k.get("https://elenora.hu:444/products/getbyid/"+this.$route.query.id).then(n=>this.response=n.data.product),k.get("https://elenora.hu:444/products/getbyid/"+this.$route.query.id).then(n=>this.access=n.data),k.get("https://elenora.hu:444/products/getall/stone").then(n=>this.stones=n.data)},methods:{addToCart(n,e,o){this.forbox?(this.cart.push({id:n._id,name:n.prodname+" (díszdobozos)",img:n.image,size:o,price:n.price+590,quantity:e,sale:0}),this.showPStone&&this.cart.push({id:this.p_stone_id,name:this.p_stone_name+" ("+this.response.prodname+"-hoz)",img:this.p_stone_img,size:null,price:this.p_stone_price,quantity:this.quantity,sale:0})):(this.cart.push({id:n._id,name:n.prodname,img:n.image,size:o,price:n.price,quantity:e,sale:0}),this.showPStone&&this.cart.push({id:this.p_stone_id,name:this.p_stone_name+" ("+this.response.prodname+" mellé)",img:this.p_stone_img,size:null,price:this.p_stone_price,quantity:this.quantity,sale:0})),localStorage.setItem("cart",JSON.stringify(this.cart)),this.key+=1;let d=this.cart.reduce((r,t)=>r+Math.round(t.price-t.price/100*t.sale)*t.quantity,0);if(console.log(d),d>1e4){let r=this.cart.find(t=>t.name=="Ajandek zsakba macska karkoto");console.log(r),r?console.log("van ajandek"):(console.log("Nincs ajndek"),this.cart.push({id:9,name:"Ajandek zsakba macska karkoto",price:0,quantity:1,sale:0,img:null,visitno:!0}),localStorage.setItem("cart",JSON.stringify(this.cart)),this.key+=1),console.log("JAR az ajandek kakroto")}else console.log(" NEM JAR az ajandek karkoto")},addq(){this.quantity<15&&(this.quantity+=1)},minq(){this.quantity>1&&(this.quantity-=1)},select(n){console.log(n),this.p_img=n},selectStone(n,e,o,d){this.p_stone_name=n,this.p_stone_img=e,this.p_stone_price=o,this.p_stone_id=d}}},ye=Object.assign(_e,{__name:"pickedView",setup(n){return(e,o)=>{const d=g("setion"),r=g("ion-icon");return i(),a("main",null,[(i(),m(q,{key:e.key})),s("section",V,[u(d,{class:"images-s"},{default:_(()=>[s("div",null,[e.response.image&&e.p_img==null?(i(),a("img",{key:0,src:e.imgurl+e.response.image,class:"pickedimg",alt:"Termék képe"},null,8,M)):l("",!0),e.p_img!=null?(i(),a("img",{key:1,src:e.imgurl+e.p_img,class:"pickedimg",alt:"Termék képe"},null,8,N)):l("",!0)]),s("div",T,[e.response.image?(i(),a("img",{key:0,onClick:o[0]||(o[0]=t=>e.select(e.response.image)),class:"thumbimg",src:e.imgurl+e.response.image,alt:"Termék képe"},null,8,j)):l("",!0),e.response.image2&&e.response.image2!="46bea41c0363d722467defc2f1ecc234"?(i(),a("img",{key:1,onClick:o[1]||(o[1]=t=>e.select(e.response.image2)),class:"thumbimg",src:e.imgurl+e.response.image2,alt:"Termék képe"},null,8,I)):l("",!0),e.response.image3&&e.response.image3!="46bea41c0363d722467defc2f1ecc234"?(i(),a("img",{key:2,onClick:o[2]||(o[2]=t=>e.select(e.response.image3)),class:"thumbimg",src:e.imgurl+e.response.image3,alt:"Termék képe"},null,8,X)):l("",!0)])]),_:1}),u(d,{class:"texts-s"},{default:_(()=>[s("div",L,[e.response.prodname?(i(),a("h1",F,h(e.response.prodname),1)):l("",!0),e.response.price?(i(),a("h3",P,h(e.response.price)+" Ft",1)):l("",!0)]),s("div",null,[s("div",A,[s("div",null,[c(s("input",{type:"checkbox",name:"doboz",id:"doboz","onUpdate:modelValue":o[3]||(o[3]=t=>e.forbox=t)},null,512),[[b,e.forbox]]),J]),s("div",null,[c(s("input",{type:"checkbox",name:"ko",id:"ko","onUpdate:modelValue":o[4]||(o[4]=t=>e.showPStone=t)},null,512),[[b,e.showPStone]]),s("label",E,"Kérek mellé ásvány követ ("+h(e.p_stone_name)+" +"+h(e.p_stone_price)+" Ft)",1)]),e.showPStone?(i(),a("div",O,[(i(!0),a(y,null,v(e.stones,t=>(i(),a("div",U,[s("img",{class:"s_img",src:e.imgurl+t.image,onClick:ve=>e.selectStone(t.prodname,t.image,t.price,t._id)},null,8,D)]))),256))])):l("",!0)])]),s("div",K,[s("div",R,[s("div",G,[H,c(s("select",{"onUpdate:modelValue":o[5]||(o[5]=t=>e.size=t),class:"size_b"},[e.access.xs==!0?(i(),a("option",Q,"XS")):l("",!0),e.access.s==!0?(i(),a("option",W,"S")):l("",!0),e.access.m==!0?(i(),a("option",Y,"M")):l("",!0),e.access.l==!0?(i(),a("option",Z,"L")):l("",!0),e.access.xl==!0?(i(),a("option",x,"XL")):l("",!0),e.access.xxl==!0?(i(),a("option",ee,"XXL")):l("",!0)],512),[[z,e.size]])]),s("div",se,[te,s("div",oe,[u(r,{name:"add-outline",onClick:o[6]||(o[6]=t=>e.addq())}),c(s("input",{type:"number",min:"1",max:"15","onUpdate:modelValue":o[7]||(o[7]=t=>e.quantity=t)},null,512),[[S,e.quantity]]),u(r,{name:"remove-outline",onClick:o[8]||(o[8]=t=>e.minq())})])])]),s("div",ie,[e.access.xs==!0?(i(),a("button",{key:0,onClick:o[9]||(o[9]=t=>e.addToCart(e.response,e.quantity,e.size))},[f(" Kosárba teszem"),u(r,{name:"cart-outline"})])):l("",!0),e.access.xs==!1?(i(),a("button",ne,[f(" A termék nem elérhető!"),u(r,{name:"cart-outline"})])):l("",!0)])])]),_:1})]),s("section",ae,[s("section",le,[s("div",re,[s("div",{onClick:o[10]||(o[10]=t=>e.showB2=!e.showB2),class:"title-b"},[de,e.showB2?l("",!0):(i(),m(r,{key:0,name:"chevron-up-outline"})),e.showB2?(i(),m(r,{key:1,class:"downarrow",name:"chevron-down-outline"})):l("",!0)]),e.showB2?(i(),a("div",ue,[(i(!0),a(y,null,v(e.response.pearls,t=>(i(),a("p",{key:t._id},h(t.name),1))),128))])):l("",!0)]),s("div",pe,[s("div",{onClick:o[11]||(o[11]=t=>e.showB3=!e.showB3),class:"title-b"},[me,e.showB3?l("",!0):(i(),m(r,{key:0,name:"chevron-up-outline"})),e.showB3?(i(),m(r,{key:1,class:"downarrow",name:"chevron-down-outline"})):l("",!0)]),e.showB3?(i(),a("div",he,ke)):l("",!0)])]),ge]),u(B)])}}}),fe=w(ye,[["__scopeId","data-v-eb357259"]]);export{fe as default};
