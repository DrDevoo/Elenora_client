import{_ as y,h as p,r as u,o as c,c as a,b as s,a as h,w as k,t as d,F as z,f as b,d as n,k as v,q as g,g as S,p as x,m as w,n as C}from"./index-730b9b5a.js";const q={data(){return{showCart:!1,cart:[],imgurl:"https://elenora.hu:444/getimage/",orderid:this.$route.query.order,loading:!1,order:[],form:{shipping:null}}},created(){this.cart=JSON.parse(localStorage.getItem("cart")||"[]")},mounted(){p.get("https://elenora.hu:444/orders/getbyid/"+this.orderid).then(i=>this.order=i.data)},computed:{total(){return this.cart.reduce((i,t)=>i+t.price*t.quantity,0)}},methods:{next(){this.loading=!0,this.order.shipping=="delivery-cash"?(this.order.cart.push({id:1,name:"Szállítási díj",price:1990,quantity:1,img:null}),this.order.cart.push({id:2,name:"Utánvét díj",price:890,quantity:1,img:null}),localStorage.setItem("cart",JSON.stringify(this.order.cart))):(this.order.cart.push({id:1,name:"Szállítási díj",price:1990,quantity:1,img:null}),localStorage.setItem("cart",JSON.stringify(this.order.cart))),console.log(this.order.cart),p.post("https://elenora.hu:444/orders/saveshipping/"+this.orderid,JSON.stringify(this.order),{headers:{"Content-Type":"application/json"}}).then(i=>this.$router.push({path:"/shop/checkout/summary",query:{order:this.orderid}})).catch(i=>{console.error("There was an error!",i)})},backto(i){console.log("clicked"),i=="shipping"?this.$router.push({path:"/shop/checkout/shipping",query:{order:this.orderid}}):i=="customer"?this.$router.push({path:"/shop/checkout",query:{order:this.orderid}}):i=="paying"?this.$router.push({path:"/shop/checkout/shipping",query:{order:this.orderid}}):console.log("err")}}},o=i=>(x("data-v-146e38cf"),i=i(),w(),i),N={class:"datas_w"},F={class:"logo_w"},I=o(()=>s("img",{class:"logo",src:C,alt:"ELENORA"},null,-1)),O={class:"cart_w"},V={class:"text"},j=o(()=>s("p",null,"Tekintsd meg a kosarad tartalmát",-1)),J={class:"price"},L={key:0,class:"cart"},M={class:"list"},R={class:"cart_item_imgtext"},T={class:"cart_item_img"},U=["src"],B={class:"cart_item_desc"},E={class:"quantity"},A={class:"cart_item_del"},D={class:"prices"},H=o(()=>s("p",null,"Összeg",-1)),K=S('<div class="order_status" data-v-146e38cf><div class="sec" data-v-146e38cf><div class="circle" data-v-146e38cf><p data-v-146e38cf>1</p></div><div class="title" data-v-146e38cf><p data-v-146e38cf>Adatok</p></div></div><div class="hr" data-v-146e38cf></div><div class="sec" data-v-146e38cf><div class="circle active" data-v-146e38cf><p class="active" data-v-146e38cf>2</p></div><div class="title" data-v-146e38cf><p data-v-146e38cf>Szállítás - Fizetés</p></div></div><div class="hr" data-v-146e38cf></div><div class="sec" data-v-146e38cf><div class="circle" data-v-146e38cf><p data-v-146e38cf>3</p></div><div class="title" data-v-146e38cf><p data-v-146e38cf>Összegzés</p></div></div></div>',1),G={class:"osszesites_w"},P={class:"oszesites_b"},Q={class:"left"},W=o(()=>s("p",{class:"t"},"Kapcsolattartás",-1)),X={class:"c"},Y={class:"right"},Z={class:"oszesites_b"},$={class:"left"},ss=o(()=>s("p",{class:"t"},"Szállítási cím",-1)),ts={class:"c"},es={class:"right"},is=o(()=>s("h3",null,"Szállítás és fizetés",-1)),os={class:"options_box"},rs={class:"flex_option"},ds={class:"flex_option"},ls=o(()=>s("label",{for:"id1"},"Házhozszállítás - Online fizetés",-1)),cs=o(()=>s("div",null,[s("h6",null,"1990 Ft")],-1)),as={class:"flex_option"},ns={class:"flex_option"},hs=o(()=>s("label",{for:"id2"},"Házhozszállítás - Utánvétes fizetés",-1)),_s=o(()=>s("div",null,[s("h6",null,"2880 Ft")],-1)),ps=o(()=>s("br",null,null,-1)),us={key:1,class:"off"},vs=o(()=>s("br",null,null,-1)),gs=o(()=>s("br",null,null,-1));function fs(i,t,ms,ys,r,l){const f=u("RouterLink"),_=u("ion-icon");return c(),a("main",null,[s("section",N,[s("div",F,[h(f,{to:"/"},{default:k(()=>[I]),_:1})]),s("div",O,[s("div",{class:"header",onClick:t[0]||(t[0]=e=>this.showCart=!this.showCart)},[s("div",V,[h(_,{class:"cart_icon",name:"cart-outline"}),j,h(_,{name:"chevron-down-outline"})]),s("div",J,[s("b",null,[s("p",null,d(l.total)+" Ft",1)])])]),this.showCart?(c(),a("div",L,[s("div",M,[(c(!0),a(z,null,b(r.cart,(e,m)=>(c(),a("div",{class:"cart_item",key:m},[s("div",R,[s("div",T,[e.img!=null?(c(),a("img",{key:0,src:r.imgurl+e.img},null,8,U)):n("",!0)]),s("div",B,[s("p",null,d(e.name),1),s("p",null,"Méret: "+d(e.size),1),s("p",E,d(e.quantity),1)])]),s("div",A,[s("h5",null,d(e.price)+" Ft",1)])]))),128))]),s("div",D,[s("div",null,[H,s("b",null,[s("p",null,d(l.total)+" Ft",1)])])])])):n("",!0)]),K,s("div",G,[s("div",P,[s("div",Q,[W,s("p",X,d(this.order.u_email),1)]),s("div",Y,[s("p",{class:"ch",onClick:t[1]||(t[1]=e=>l.backto("customer"))},"Módosítás")])]),s("div",Z,[s("div",$,[ss,s("p",ts,d(this.order.u_postnumber)+" "+d(this.order.u_city)+", "+d(this.order.u_addresse)+", "+d(this.order.u_legio),1)]),s("div",es,[s("p",{class:"ch",onClick:t[2]||(t[2]=e=>l.backto("customer"))},"Módosítás")])])]),s("div",null,[is,s("div",os,[s("div",rs,[s("div",ds,[v(s("input",{type:"radio",name:"shipping",id:"id1",value:"delivery-card","onUpdate:modelValue":t[3]||(t[3]=e=>r.order.shipping=e),class:"radio"},null,512),[[g,r.order.shipping]]),ls]),cs]),s("div",as,[s("div",ns,[v(s("input",{type:"radio",name:"shipping",id:"id2",value:"delivery-cash","onUpdate:modelValue":t[4]||(t[4]=e=>r.order.shipping=e),class:"radio"},null,512),[[g,r.order.shipping]]),hs]),_s])]),ps,!r.loading&&r.order.shipping!=""?(c(),a("button",{key:0,onClick:t[5]||(t[5]=(...e)=>l.next&&l.next(...e))}," Összegzés ")):n("",!0),!r.loading&&r.order.shipping==""?(c(),a("button",us," Összegzés ")):n("",!0),r.loading?(c(),a("button",{key:2,onClick:t[6]||(t[6]=(...e)=>l.next&&l.next(...e))},"Töltés")):n("",!0)])]),vs,gs])}const zs=y(q,[["render",fs],["__scopeId","data-v-146e38cf"]]);export{zs as default};
