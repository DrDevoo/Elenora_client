import{_ as q,r as y,o as n,c as a,j as c,i as S,b as s,a as p,w as v,d as l,F as b,f,h as _,t as k,m as g,v as w,n as B,q as C,e as z,k as V,p as $,l as I}from"./index-2918a254.js";const h=o=>($("data-v-9e70342f"),o=o(),I(),o),M={class:"top-s"},N=["src"],T=["src"],X={class:"thumblist"},j=["src"],L=["src"],F=["src"],P={class:"texts-b"},A={key:0},J={key:1},O={class:"plus_w"},U=h(()=>s("label",{for:"doboz"},"Dísz dobozban legyen a termék (+590 Ft)",-1)),D={for:"ko"},E={key:0,class:"stonelist"},K={class:"stone"},R=["src","onClick"],G={class:"input-b"},H={class:"selects-b"},Q={class:"size-b box"},W=h(()=>s("p",null,"Méret",-1)),Y={key:0,value:"XS"},Z={key:1,value:"S"},x={key:2,value:"M"},ee={key:3,value:"L"},se={key:4,value:"XL"},te={key:5,value:"XXL"},oe={class:"mennyiseg-b box"},ne=h(()=>s("p",null,"Mennyiség",-1)),ie={class:"quantity_b"},ae={class:"add-b"},le={key:1},re={class:"bottom-s"},de={class:"description-s"},me={class:"desc-b"},ue=h(()=>s("h4",null,"Ásványok",-1)),pe={key:0,class:"text-b"},he={class:"desc-b"},ce=h(()=>s("h4",null,"Egyedi karkötő",-1)),ke={key:0,class:"text-b"},ge=h(()=>s("p",null,"Egyedi karkötőt szeretnél? Keress meg minket Instagrammon!",-1)),_e=[ge],ye=h(()=>s("section",{class:"favorites-s"},null,-1)),ve={data(){return{showB1:!0,showB2:!1,showB3:!1,showPStone:!1,forbox:!1,response:[],stones:[],p_stone_name:"",p_stone_price:"",p_stone_img:"",p_stone_id:"",access:[],cart:[],imgurl:"https://elenora.hu:444/getimage/",quantity:1,size:"M",key:0,p_img:null}},mounted(){this.cart=JSON.parse(localStorage.getItem("cart")||"[]"),_.get("https://elenora.hu:444/products/getbyid/"+this.$route.query.id).then(o=>this.response=o.data.product),_.get("https://elenora.hu:444/products/getbyid/"+this.$route.query.id).then(o=>this.access=o.data),_.get("https://elenora.hu:444/products/getall/stone").then(o=>this.stones=o.data)},methods:{addToCart(o,e,t){if(this.forbox)var u=this.cart.find(m=>m.name==o.prodname+" (díszdobozos)");else var u=this.cart.find(d=>d.name==o.prodname);if(u)if(this.forbox){var r=this.cart.findIndex(m=>m.name==o.prodname+" (díszdobozos)");console.log("Van mar ilyen a kosarba: "+r),this.cart[r].quantity+=e}else{var r=this.cart.findIndex(d=>d.name==o.prodname);console.log("Van mar ilyen a kosarba: "+r),this.cart[r].quantity+=e}else console.log("Nincs ilyen a kosarba"),this.forbox?(this.cart.push({id:o._id,name:o.prodname+" (díszdobozos)",img:o.image,size:t,price:o.price+590,quantity:e,sale:0}),this.showPStone&&this.cart.push({id:this.p_stone_id,name:this.p_stone_name+" ("+this.response.prodname+"-hoz)",img:this.p_stone_img,size:null,price:this.p_stone_price,quantity:this.quantity,sale:0})):(this.cart.push({id:o._id,name:o.prodname,img:o.image,size:t,price:o.price,quantity:e,sale:0}),this.showPStone&&this.cart.push({id:this.p_stone_id,name:this.p_stone_name+" ("+this.response.prodname+" mellé)",img:this.p_stone_img,size:null,price:this.p_stone_price,quantity:this.quantity,sale:0}));localStorage.setItem("cart",JSON.stringify(this.cart)),this.key+=1;let i=this.cart.reduce((m,d)=>m+Math.round(d.price-d.price/100*d.sale)*d.quantity,0);if(console.log(i),i>1e4){let m=this.cart.find(d=>d.name=="Ajándék zsákbamacska karkötő");console.log(m),m?console.log("van ajandek"):(console.log("Nincs ajndek"),this.cart.push({id:9,name:"Ajándék zsákbamacska karkötő",price:0,quantity:1,sale:0,img:null,visitno:!0}),localStorage.setItem("cart",JSON.stringify(this.cart)),this.key+=1),console.log("JAR az ajandek kakroto")}},addq(){this.quantity<15&&(this.quantity+=1)},minq(){this.quantity>1&&(this.quantity-=1)},select(o){console.log(o),this.p_img=o},selectStone(o,e,t,u){this.p_stone_name=o,this.p_stone_img=e,this.p_stone_price=t,this.p_stone_id=u}}},be=Object.assign(ve,{__name:"pickedView",setup(o){return(e,t)=>{const u=y("setion"),r=y("ion-icon");return n(),a("main",null,[(n(),c(S,{key:e.key})),s("section",M,[p(u,{class:"images-s"},{default:v(()=>[s("div",null,[e.response.image&&e.p_img==null?(n(),a("img",{key:0,src:e.imgurl+e.response.image,class:"pickedimg",alt:"Termék képe"},null,8,N)):l("",!0),e.p_img!=null?(n(),a("img",{key:1,src:e.imgurl+e.p_img,class:"pickedimg",alt:"Termék képe"},null,8,T)):l("",!0)]),s("div",X,[e.response.image?(n(),a("img",{key:0,onClick:t[0]||(t[0]=i=>e.select(e.response.image)),class:"thumbimg",src:e.imgurl+e.response.image,alt:"Termék képe"},null,8,j)):l("",!0),e.response.image2&&e.response.image2!="46bea41c0363d722467defc2f1ecc234"?(n(),a("img",{key:1,onClick:t[1]||(t[1]=i=>e.select(e.response.image2)),class:"thumbimg",src:e.imgurl+e.response.image2,alt:"Termék képe"},null,8,L)):l("",!0),e.response.image3&&e.response.image3!="46bea41c0363d722467defc2f1ecc234"?(n(),a("img",{key:2,onClick:t[2]||(t[2]=i=>e.select(e.response.image3)),class:"thumbimg",src:e.imgurl+e.response.image3,alt:"Termék képe"},null,8,F)):l("",!0)])]),_:1}),p(u,{class:"texts-s"},{default:v(()=>[s("div",P,[e.response.prodname?(n(),a("h1",A,k(e.response.prodname),1)):l("",!0),e.response.price?(n(),a("h3",J,k(e.response.price)+" Ft",1)):l("",!0)]),s("div",null,[s("div",O,[s("div",null,[g(s("input",{type:"checkbox",name:"doboz",id:"doboz","onUpdate:modelValue":t[3]||(t[3]=i=>e.forbox=i)},null,512),[[w,e.forbox]]),U]),s("div",null,[g(s("input",{type:"checkbox",name:"ko",id:"ko","onUpdate:modelValue":t[4]||(t[4]=i=>e.showPStone=i)},null,512),[[w,e.showPStone]]),s("label",D,"Kérek mellé ásvány követ ("+k(e.p_stone_name)+" +"+k(e.p_stone_price)+" Ft)",1)]),e.showPStone?(n(),a("div",E,[(n(!0),a(b,null,f(e.stones,i=>(n(),a("div",K,[s("img",{class:"s_img",src:e.imgurl+i.image,onClick:m=>e.selectStone(i.prodname,i.image,i.price,i._id)},null,8,R)]))),256))])):l("",!0)])]),s("div",G,[s("div",H,[s("div",Q,[W,g(s("select",{"onUpdate:modelValue":t[5]||(t[5]=i=>e.size=i),class:"size_b"},[e.access.xs==!0?(n(),a("option",Y,"XS")):l("",!0),e.access.s==!0?(n(),a("option",Z,"S")):l("",!0),e.access.m==!0?(n(),a("option",x,"M")):l("",!0),e.access.l==!0?(n(),a("option",ee,"L")):l("",!0),e.access.xl==!0?(n(),a("option",se,"XL")):l("",!0),e.access.xxl==!0?(n(),a("option",te,"XXL")):l("",!0)],512),[[B,e.size]])]),s("div",oe,[ne,s("div",ie,[p(r,{name:"add-outline",onClick:t[6]||(t[6]=i=>e.addq())}),g(s("input",{type:"number",min:"1",max:"15","onUpdate:modelValue":t[7]||(t[7]=i=>e.quantity=i)},null,512),[[C,e.quantity]]),p(r,{name:"remove-outline",onClick:t[8]||(t[8]=i=>e.minq())})])])]),s("div",ae,[e.access.xs==!0?(n(),a("button",{key:0,onClick:t[9]||(t[9]=i=>e.addToCart(e.response,e.quantity,e.size))},[z(" Kosárba teszem"),p(r,{name:"cart-outline"})])):l("",!0),e.access.xs==!1?(n(),a("button",le,[z(" A termék nem elérhető!"),p(r,{name:"cart-outline"})])):l("",!0)])])]),_:1})]),s("section",re,[s("section",de,[s("div",me,[s("div",{onClick:t[10]||(t[10]=i=>e.showB2=!e.showB2),class:"title-b"},[ue,e.showB2?l("",!0):(n(),c(r,{key:0,name:"chevron-up-outline"})),e.showB2?(n(),c(r,{key:1,class:"downarrow",name:"chevron-down-outline"})):l("",!0)]),e.showB2?(n(),a("div",pe,[(n(!0),a(b,null,f(e.response.pearls,i=>(n(),a("p",{key:i._id},k(i.name),1))),128))])):l("",!0)]),s("div",he,[s("div",{onClick:t[11]||(t[11]=i=>e.showB3=!e.showB3),class:"title-b"},[ce,e.showB3?l("",!0):(n(),c(r,{key:0,name:"chevron-up-outline"})),e.showB3?(n(),c(r,{key:1,class:"downarrow",name:"chevron-down-outline"})):l("",!0)]),e.showB3?(n(),a("div",ke,_e)):l("",!0)])]),ye]),p(V)])}}}),we=q(be,[["__scopeId","data-v-9e70342f"]]);export{we as default};
