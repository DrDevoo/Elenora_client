import{H as m}from"./Header-22e31304.js";import{k as b,h as u,r as x,o as l,c as n,b as e,F as v,f,e as a,t as o,d as _,a as g,p as z,n as C}from"./index-1f23cf88.js";const T={name:"GetInvetory",data(){return{orders:[],p_order:[],details:!1,imgurl:"https://elenora.hu:444/getimage/"}},mounted(){u.get("https://elenora.hu:444/orders/getall").then(d=>this.orders=d.data.r_orders)},methods:{openitemdetails(d){u.get("https://elenora.hu:444/orders/getbyid/"+d).then(i=>this.p_order=i.data),this.details=!0},p_delete(d){confirm("Biztosan törlöd a rendelést?")&&u.get("https://elenora.hu:444/orders/update/del/"+d)},p_maked(d){confirm("Biztos teljesen összevan készítve a rendelés?")&&u.get("https://elenora.hu:444/orders/update/maked/"+d)},p_shipping(d){confirm("Biztosan feladtad a GLS-nek a csomagot?")&&u.get("https://elenora.hu:444/orders/update/shipping/"+d)},p_finish(d){confirm("Biztosan teljesűlt a kézbesítés?")&&u.get("https://elenora.hu:444/orders/update/finish/"+d)}}},r=d=>(z("data-v-6206adc8"),d=d(),C(),d),S={class:"listprod"},B={cellspacing:"0",cellpadding:"0"},j=r(()=>e("thead",null,[e("tr",null,[e("th",null,"Dátum / Rendelés szám"),e("th",null,"Állapot"),e("th",null,"Megrendelő"),e("th",null,"Termék(ek)"),e("th",null,"Összeg"),e("th"),e("th")])],-1)),I=r(()=>e("br",null,null,-1)),M={key:0,class:"stat red"},R={key:1,class:"stat orange"},F={key:2,class:"stat blue"},N={key:3,class:"stat lila"},O={key:4,class:"stat green"},L=r(()=>e("br",null,null,-1)),V={key:0},q={key:1},w=r(()=>e("td",null,null,-1)),D=["onClick"],E={key:0,class:"details_box"},G={class:"d_container"},H={style:{"text-align":"center"}},U={class:"customer_b"},A={class:"box"},J=r(()=>e("h5",null,"Megrendelő adatai:",-1)),K={class:"flex"},P=r(()=>e("b",null,[e("p",null,"Teljes név:")],-1)),Q={class:"flex"},W=r(()=>e("b",null,[e("p",null,"E-mail:")],-1)),X={class:"flex"},Y=r(()=>e("b",null,[e("p",null,"Tel.:")],-1)),Z={class:"box"},$=r(()=>e("h5",null,"Szállítás, számlázás:",-1)),ee={class:"flex"},se=r(()=>e("b",null,[e("p",null,"helység:")],-1)),te={class:"flex"},le=r(()=>e("b",null,[e("p",null,"Utca:")],-1)),ne={class:"box"},oe=r(()=>e("h5",null,"Rendelés adatai:",-1)),re={key:0,class:"flex"},de=r(()=>e("b",null,[e("p",null,"Idő:")],-1)),_e={class:"flex"},ie=r(()=>e("b",null,[e("p",null,"Státusz:")],-1)),ue=r(()=>e("h4",{style:{"text-align":"center"}},"Rendelt termékek",-1)),ce=["src"],ae={class:"flex"},pe=r(()=>e("b",null,[e("p",null,"Neve:")],-1)),he={class:"flex"},ve=r(()=>e("b",null,[e("p",null,"Mennyiség:")],-1)),ge={class:"flex"},ke=r(()=>e("b",null,[e("p",null,"Méret:")],-1)),fe={key:0},ye={class:"order-btns"};function me(d,i,y,Ce,t,c){const k=x("ion-icon");return l(),n(v,null,[e("section",S,[e("table",B,[j,e("tbody",null,[(l(!0),n(v,null,f(t.orders,s=>(l(),n("tr",{key:s._id},[e("td",null,[a(o(s.createdtime.split("T")[0])+" ",1),I,a(" "+o(s.orderid),1)]),e("td",null,[s.status=="pending"?(l(),n("p",M," Rendelés alatt ")):_("",!0),s.status=="ordered"?(l(),n("p",R," Megrendelve ")):_("",!0),s.status=="maked"?(l(),n("p",F,"Összekészítve")):_("",!0),s.status=="shipping"?(l(),n("p",N,"Szállítás")):_("",!0),s.status=="done"?(l(),n("p",O,"Teljesítve")):_("",!0)]),e("td",null,[a(o(s.u_firstname+" "+s.u_name)+" ",1),L,a(" "+o(s.u_email),1)]),s.shipping=="delivery-card"?(l(),n("td",V,"Fizetve")):_("",!0),s.shipping=="delivery-cash"?(l(),n("td",q,"Utánvét")):_("",!0),e("td",null,o(s.cart.reduce((p,h)=>p+Math.round(h.price-h.price/100*h.sale)*h.quantity,0))+" Ft ",1),w,e("td",{onClick:p=>c.openitemdetails(s._id)},[g(k,{name:"eye-outline"})],8,D)]))),128))])])]),t.details?(l(),n("section",E,[e("div",G,[g(k,{onClick:i[0]||(i[0]=s=>t.details=!t.details),style:{"font-size":"24pt",position:"sticky",top:"0"},name:"close-outline"}),e("h3",H,[a(" Rendekés összesítő - "),e("i",null,o(t.p_order.orderid),1)]),e("div",U,[e("div",A,[J,e("div",K,[P,e("p",null,o(t.p_order.u_firstname)+" "+o(t.p_order.u_name),1)]),e("div",Q,[W,e("p",null,o(t.p_order.u_email),1)]),e("div",X,[Y,e("p",null,o(t.p_order.u_tel),1)])]),e("div",Z,[$,e("div",ee,[se,e("p",null,o(t.p_order.u_postnumber)+", "+o(t.p_order.u_city),1)]),e("div",te,[le,e("p",null,o(t.p_order.u_addresse),1)])]),e("div",ne,[oe,t.p_order.createdtime?(l(),n("div",re,[de,e("p",null,o(t.p_order.createdtime.split("T")[0]),1)])):_("",!0),e("div",_e,[ie,e("p",null,o(t.p_order.status),1)])])]),e("div",null,[ue,(l(!0),n(v,null,f(this.p_order.cart,(s,p)=>(l(),n("div",{class:"cartprod",key:p},[s.img!=null?(l(),n("img",{key:0,class:"prodimg",src:t.imgurl+s.img},null,8,ce)):_("",!0),e("div",null,[e("div",ae,[pe,e("p",null,o(s.name),1)]),e("div",he,[ve,e("p",null,o(s.quantity),1)]),e("div",ge,[ke,s.size?(l(),n("p",fe,o(s.size),1)):_("",!0)])])]))),128))]),e("div",ye,[t.p_order.status!="done"?(l(),n("button",{key:0,onClick:i[1]||(i[1]=s=>c.p_delete(t.p_order._id)),class:"red"}," Törlés ")):_("",!0),t.p_order.status=="ordered"?(l(),n("button",{key:1,onClick:i[2]||(i[2]=s=>c.p_maked(t.p_order._id)),class:"blue"}," Összekészítve ")):_("",!0),t.p_order.status=="maked"?(l(),n("button",{key:2,onClick:i[3]||(i[3]=s=>c.p_shipping(t.p_order._id)),class:"orange"}," Feladva ")):_("",!0),t.p_order.status=="shipping"?(l(),n("button",{key:3,onClick:i[4]||(i[4]=s=>c.p_finish(t.p_order._id)),class:"green"}," Teljesítve ")):_("",!0)])])])):_("",!0)],64)}const be=b(T,[["render",me],["__scopeId","data-v-6206adc8"]]);const xe=e("h1",{class:"title"},"Rendelések",-1),ze={data(){return{showAdd:!1}}},Be=Object.assign(ze,{__name:"Orders",setup(d){return(i,y)=>(l(),n(v,null,[g(m),xe,e("main",null,[g(be)])],64))}});export{Be as default};
