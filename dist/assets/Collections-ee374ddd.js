import{_ as g,h as _,o as n,c as i,b as e,e as h,t as c,F as p,f,d as y,p as b,l as C,y as u,C as S,B as v,G as w,g as N,a as k,j as F}from"./index-d7dc88db.js";import{H as x}from"./Header-bb2a65a1.js";const A={name:"GetCollections",data(){return{collections:[],more:!1,moreprods:[],moreid:"",morename:"",file:"",imgurl:"https://elenora.hu:444/getimage/"}},mounted(){_.get("https://elenora.hu:444/collections/getall").then(o=>this.collections=o.data)},methods:{pick(o,t){this.moreid=t,this.more=!0,this.morename=o,_.get("https://elenora.hu:444/products/getbycollection/"+o).then(a=>this.moreprods=a.data)},handleFileUpload(){this.file=this.$refs.file.files[0];let o=new FormData;o.append("file",this.file),_.post("https://elenora.hu:444/collections/uploadimg/"+this.moreid,o,{headers:{"Content-Type":"multipart/form-data"}}).then(function(t){console.log(t),alert("Sikeres kép módosítás!")}).catch(function(){console.log("FAILURE!!")})}}},$=o=>(b("data-v-3f3d5d02"),o=o(),C(),o),V={key:0,class:"moreb"},I={style:{display:"flex","align-items":"center"}},U=$(()=>e("h5",null,"Boritókép módosítása:",-1)),B={class:"moreprodlist"},T={class:"prodb"},K={class:"listprod"},D={cellspacing:"0",cellpadding:"0"},L=$(()=>e("thead",null,[e("tr",null,[e("th",null,"Neve"),e("th",null,"Típusa"),e("th",null,"Neme"),e("th")])],-1)),j=["onClick"];function E(o,t,a,m,s,r){return n(),i(p,null,[s.more?(n(),i("section",V,[e("h1",null,[h(" Termékek "),e("i",null,c(s.morename),1),h(" kollekcióban ")]),e("div",I,[U,e("input",{type:"file",id:"file",ref:"file",onChange:t[0]||(t[0]=l=>r.handleFileUpload())},null,544)]),e("div",B,[(n(!0),i(p,null,f(s.moreprods,l=>(n(),i("div",T,[e("p",null,c(l.prodname),1)]))),256))])])):y("",!0),e("section",K,[e("table",D,[L,e("tbody",null,[(n(!0),i(p,null,f(s.collections,l=>(n(),i("tr",{key:l._id},[e("td",null,c(l.col_name),1),e("td",null,c(l.col_type),1),e("td",null,c(l.col_gender),1),e("td",{onClick:ae=>r.pick(l.col_name,l._id)},"•••",8,j)]))),128))])])])],64)}const M=g(A,[["render",E],["__scopeId","data-v-3f3d5d02"]]);const G={name:"PostFormAxios",data(){return{form:{collection_name:"",collection_type:"",collection_gender:""},data:JSON.stringify(this.form)}},methods:{submitSave(){_.post("https://elenora.hu:444/collections/add/"+this.form.collection_name+"/"+this.form.collection_type+"/"+this.form.collection_gender,this.data).then(function(){console.log("SUCCESS!!"),alert("Sikeres kollekció mentés!")}).catch(o=>console.log(o))}}},d=o=>(b("data-v-425362a4"),o=o(),C(),o),H={class:"addcolection"},O={class:"input_wrapper"},P=d(()=>e("label",{for:""},"Neve",-1)),J=d(()=>e("label",{for:""},"Típusa",-1)),R=d(()=>e("option",{disabled:"",selected:""},"Kollekció típusa",-1)),q=d(()=>e("option",{value:"bracelet"},"karkötő",-1)),z=d(()=>e("option",{value:"keychain"},"kulcstartó",-1)),Q=[R,q,z],W=d(()=>e("label",{for:""},"Neme",-1)),X=N('<option disabled selected data-v-425362a4>Kollekció neme</option><option value="female" data-v-425362a4>Női</option><option value="male" data-v-425362a4>Férfi</option><option value="unisex" data-v-425362a4>Férfi és Női</option><option value="couple" data-v-425362a4>Páros</option>',5),Y=[X],Z={class:"submit_wrapper"};function ee(o,t,a,m,s,r){return n(),i("section",H,[e("form",{onSubmit:t[4]||(t[4]=w((...l)=>o.submitForm&&o.submitForm(...l),["prevent"]))},[e("div",O,[e("div",null,[P,u(e("input",{type:"text","onUpdate:modelValue":t[0]||(t[0]=l=>s.form.collection_name=l),placeholder:"Kollekció neve"},null,512),[[S,s.form.collection_name]])]),e("div",null,[J,u(e("select",{name:"",id:"","onUpdate:modelValue":t[1]||(t[1]=l=>s.form.collection_type=l)},Q,512),[[v,s.form.collection_type]]),W,u(e("select",{name:"",id:"","onUpdate:modelValue":t[2]||(t[2]=l=>s.form.collection_gender=l)},Y,512),[[v,s.form.collection_gender]])])]),e("div",Z,[e("input",{type:"submit",value:"Kollekció mentése",onClick:t[3]||(t[3]=l=>r.submitSave())})])],32)])}const oe=g(G,[["render",ee],["__scopeId","data-v-425362a4"]]);const te=e("h1",{class:"title"},"Kollekciók",-1),le={class:"new-wrapper"},se=e("h3",null,"Új kollekció",-1),ne=[se],ie={data(){return{showAdd:!1}}},re=Object.assign(ie,{__name:"Collections",setup(o){return(t,a)=>(n(),i(p,null,[k(x),te,e("main",null,[e("section",le,[e("div",{onClick:a[0]||(a[0]=m=>t.showAdd=!t.showAdd)},ne)]),t.showAdd?(n(),F(oe,{key:0})):y("",!0),k(M)])],64))}});export{re as default};
